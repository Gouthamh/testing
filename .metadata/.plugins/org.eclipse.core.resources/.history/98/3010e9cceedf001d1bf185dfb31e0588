package sftpconnection;

import java.io.ByteArrayInputStream;
import java.io.IOException;
import java.util.List;
import java.util.Vector;

import com.jcraft.jsch.Channel;
import com.jcraft.jsch.ChannelSftp;
import com.jcraft.jsch.JSch;
import com.jcraft.jsch.Session;

public class sampledummi {

	private static final String ArratList = null;

	public static void main(String[] args) throws IOException {

		System.out.println(false);
		String localPath = "";
		String sftpPath = "";
		String sftpHost = "172.20.21.57";
		String sftpPort = "31703";
		String sftpUserName = "admin";
		String sftpPassword = "admin";
		String sshkey = "172.20.21.57 ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCfeK+wXukXepUaNZmSTGEjDeUTmJdJlMepkUZA6m5p6tzJa77dIAEx1DOdS+uYCOQWJeguACk204p8Qg83w2Is/YtfzoprK9suIBuZLgDoFT+rSXWptVR3weHQqmwh9aN3AwcRN2ql+czgT3SjIMOahz9peLeRKe+20TiOLv8+c0h8+IQxkqX7qrY0sYrrZyJsQ9HQVrLGEb9RLmOgyKPnqCDIRFH72+nYSpcN+k7Yxc8GiL+qUtKs/GZwBYW2oQMVJR/7XeFVfMYgKBbh/R4L9hYztJX5jCn6iovAwhMB9bd0KqDHhJsiU39R8JoUeGXkW83j3/dZdO1QvTY+AQHmZRW7mZ5MInWeT6BwAJqYICfibSfD/0FYXG7fonPAlzAl6lDiMyBpmZnZOMn0vF8JgHPu1AUxgPrcbNbLhwl19qfz2GnIHoDfg2h8IPXhASh56oIGFSbREIeTYjx0JkJgkZsbGKMYKnEjbSApMUNfhUu16/khm+/tptDqmMDnYmU2E4SQ+Jici9FD1bGO2pDUS2Z6NQz5HyzQyhHPnSH/eQnowRc+YnXa15npey/EEsKE/NGEtS/xk1DXsqEk30wMZYEfwEga5YDCCwIEgzYpHIgF2MmCGYnb/AgtjPRQEYvAWz42S2yD1FNnmsxGxTvOfg60+PuzJW5l2l6zrzvPxw==";

		try {
			JSch jsch = new JSch();

			Session session = jsch.getSession(sftpUserName, sftpHost, Integer.valueOf(sftpPort));
			System.out.println("------------");
			jsch.setKnownHosts(new ByteArrayInputStream(sshkey.getBytes()));
			session.setPassword(sftpPassword);
			session.connect();
			Channel channel = session.openChannel("sftp");
			ChannelSftp channelSftp = (ChannelSftp) channel;
			channelSftp.connect();
			System.out.println("------------connect-----------" + channelSftp.isConnected());
			ChannelSftp channelsftpconnection = (ChannelSftp) channelSftp;
			/*
			 * System.out.println("channelsftpconnection----------"+channelsftpconnection);
			 * channelsftpconnection.cd("/bulk-store/ProccessedFiles/");
			 * System.out.println("remove----------");
			 * channelsftpconnection.rm("notification-5425819.tar.gz");
			 * 
			 * System.out.println("remove----------");
			 */
			
			List<ChannelSftp.LsEntry> ls1 = channelSftp.ls("/bulk-store/ProccessedFiles");
			ls1.c
			
			

			Vector<ChannelSftp.LsEntry> ls = channelSftp.ls("/bulk-store/ProccessedFiles");
			System.out.println("------------ls.size()-----------" + (ls.size() - 2));
			System.out.println("------------files-----------");
			/*
			 * ls.size(); System.out.println("------------ls.size()-----------"+ls.size());
			 * ls.clear();
			 * System.out.println("------------ls.removeAllElements()-----------");
			 * System.out.println("------------ls.removeAllElements()-----------"+ls.isEmpty
			 * ()); System.out.println();
			 */
			for (ChannelSftp.LsEntry entry : ls) {
				System.out.println(entry.getFilename());
			}

		} catch (Exception e) {
			e.printStackTrace();

		}

		// TODO Auto-generated method stub

	}

}
